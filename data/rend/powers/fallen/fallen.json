{
  "type": "origins:multiple",
  "chance_for_armour": {
    "type": "origins:action_on_callback",
    "entity_action_gained": {
      "type": "origins:and",
      "actions": [
        {
          "type": "origins:chance",
          "chance": 0.4,
          "success_action": {
            "type": "origins:execute_command",
            "command": "execute unless items entity @s armor.head * run item replace entity @s armor.head with minecraft:chainmail_helmet 1"
          }
        },
        {
          "type": "origins:chance",
          "chance": 0.4,
          "success_action": {
            "type": "origins:execute_command",
            "command": "execute unless items entity @s armor.chest * run item replace entity @s armor.chest with minecraft:chainmail_chestplate 1"
          }
        },
        {
          "type": "origins:chance",
          "chance": 0.4,
          "success_action": {
            "type": "origins:execute_command",
            "command": "execute unless items entity @s armor.legs * run item replace entity @s armor.legs with minecraft:chainmail_leggings 1"
          }
        },
        {
          "type": "origins:chance",
          "chance": 0.4,
          "success_action": {
            "type": "origins:execute_command",
            "command": "execute unless items entity @s armor.feet * run item replace entity @s armor.feet with minecraft:chainmail_boots 1"
          }
        }
      ]
    }
  },
  "set_enemy_when_attacked": {
    "type": "origins:attacker_action_when_hit",
    "entity_action": {
      "type": "origins:execute_command",
      "command": "execute if entity @s[team=!rend] run scoreboard players set @s rend_enemy 1"
    },
    "damage_condition": {
      "type": "origins:attacker",
      "entity_condition": {
        "type": "origins:command",
        "command": "execute unless entity @s[team=rend]",
        "comparison": "==",
        "compare_to": 1
      }
    },
    "cooldown": 20
  },
  "prevent_friendly_damage": {
    "type": "origins:modify_damage_taken",
    "bientity_condition": {
      "type": "origins:in_entity_set",
      "set": "*:fallen/summoner_summoned_fallen"
    },
    "modifier": {
      "id": "rend:fallen/fallen_prevent_friendly_damage",
      "operation": "set_total",
      "amount": 0
    }
  },
  "weapon_switch": {
    "type": "origins:action_over_time",
    "entity_action": {
      "type": "origins:if_else",
      "condition": {
        "type": "origins:entity_in_radius",
        "radius": 16,
        "shape": "sphere",
        "bientity_condition": {
          "type": "origins:and",
          "conditions": [
            {
              "type": "origins:in_entity_set",
              "set": "*:fallen/summoner_fallen_enemies"
            },
            { "type": "origins:can_see" }
          ]
        },
        "comparison": ">",
        "compare_to": 0
      },
      "if_action": {
        "type": "origins:execute_command",
        "command": "function rend:fallen/can_attack"
      },
      "else_action": {
        "type": "origins:execute_command",
        "command": "function rend:fallen/prevent_attack"
      }
    },
    "interval": 30
  }
}
